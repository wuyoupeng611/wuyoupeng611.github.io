<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/favicon-32x32-next.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-pace-theme-flash.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"example.com",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta property="og:type" content="article"><meta property="og:title" content="redis初学"><meta property="og:url" content="http://example.com/post/7b25d017/index.html"><meta property="og:site_name" content="上帝T不在"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-05-06T13:47:16.000Z"><meta property="article:modified_time" content="2021-05-19T09:40:09.856Z"><meta property="article:author" content="WYP&#39;s Blog"><meta property="article:tag" content="数据类型"><meta property="article:tag" content="事务"><meta property="article:tag" content="jedis"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://example.com/post/7b25d017/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>redis初学 | 上帝T不在</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><a target="_blank" rel="noopener" href="https://github.com/wuyoupeng611" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">上帝T不在</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首&emsp;页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标&emsp;签<span class="badge">26</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分&emsp;类<span class="badge">12</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>时间轴<span class="badge">15</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜&emsp;索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/post/7b25d017/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/author.png"><meta itemprop="name" content="WYP's Blog"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="上帝T不在"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">redis初学</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-05-06 21:47:16" itemprop="dateCreated datePublished" datetime="2021-05-06T21:47:16+08:00">2021-05-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-05-19 17:40:09" itemprop="dateModified" datetime="2021-05-19T17:40:09+08:00">2021-05-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/redis/" itemprop="url" rel="index"><span itemprop="name">redis</span></a></span></span><div class="post-description"><!-- more --></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><h3 id="一-redis介绍"><a href="#一-redis介绍" class="headerlink" title="一. redis介绍"></a>一. redis介绍</h3><ul><li><p>REmote DIctionary Server(Redis) 是一个 key-value 存储系统，是跨平台的非关系型数据库。</p></li><li><p>Redis 是一个开源的使用 ANSI C 语言编写、遵守 BSD 协议、支持网络、可基于内存、分布式、可选持久性的键值对(Key-Value)存储数据库，并提供多种语言的 API。</p></li><li><p>Redis 通常被称为数据结构服务器，因为值（value）可以是字符串(String)、哈希(Hash)、列表(list)、集合(sets)和有序集合(sorted sets)等类型。</p></li><li><p>Redis 中有5大数据类型，3大特殊数据类型。</p></li></ul><h3 id="二-redis-命令"><a href="#二-redis-命令" class="headerlink" title="二. redis 命令"></a>二. redis 命令</h3><ul><li><p>启动 redis 服务器，打开终端并输入命令 <strong>redis-cli</strong>，该命令会连接本地的 redis 服务。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli</span><br><span class="line">redis 127.0.0.1:6379&gt;</span><br><span class="line">redis 127.0.0.1:6379&gt; PIN</span><br><span class="line">PONG</span><br></pre></td></tr></table></figure></li><li><p>如果需要在远程 redis 服务上执行命令，同样我们使用的也是 <strong>redis-cli</strong> 命令。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli -h host -p port -a password</span><br></pre></td></tr></table></figure></li><li><p>键的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">DEL KEY_NAME		<span class="comment">#删除已存在的键。不存在的 key 会被忽略</span></span><br><span class="line">DUMP KEY_NAME		<span class="comment">#序列化给定的 key ，并返回被序列化的值</span></span><br><span class="line">EXISTS KEY_NAME		<span class="comment">#检查给定 key 是否存在</span></span><br><span class="line">Expire KEY_NAME TIME_IN_SECONDS		<span class="comment">#设置 key 的过期时间，key 过期后将不再可用（单位以秒计）</span></span><br><span class="line">Expireat KEY_NAME UNIX_TIME		<span class="comment">#以 UNIX 时间戳(unix timestamp)格式设置 key 的过期时间</span></span><br><span class="line">PEXPIRE KEY_NAME milliseconds		<span class="comment">#以毫秒为单位设置 key 的生存时间</span></span><br><span class="line">PEXPIREAT KEY_NAME UNIX_milliseconds		<span class="comment">#以 UNIX 时间戳</span></span><br><span class="line">PTTL KEY_NAME		<span class="comment">#以毫秒为单位返回 key 的剩余过期时间</span></span><br><span class="line">TTL KEY_NAME		<span class="comment">#以秒为单位返回 key 的剩余过期时间</span></span><br><span class="line">PERSIST KEY_NAME		<span class="comment">#移除给定 key 的过期时间，使得 key 永不过期</span></span><br><span class="line">KEYS PATTERN		<span class="comment">#查找所有符合给定模式 pattern 的 key </span></span><br><span class="line">MOVE KEY_NAME DB		<span class="comment">#将当前数据库的 key 移动到给定的数据库 db 当中，当前数据库就没有这个 key 了</span></span><br><span class="line">RANDOMKEY		<span class="comment">#从当前数据库中随机返回一个 key</span></span><br><span class="line">RENAME OLD_KEY_NAME NEW_KEY_NAME		<span class="comment">#修改 key 的名称 </span></span><br><span class="line">RENAMENX OLD_KEY_NAME NEW_KEY_NAME		<span class="comment">#在新的 key 不存在时修改 key 的名称</span></span><br><span class="line">TYPE KEY_NAME 		<span class="comment">#返回 key 所储存的值的类型</span></span><br><span class="line">SCAN cursor [MATCH pattern] [COUNT count]		<span class="comment">#迭代数据库中的数据库键，cursor - 游标，pattern - 匹配的模式，count - 指定从数据集里返回多少元素，默认值为 10 ，</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="三-数据类型"><a href="#三-数据类型" class="headerlink" title="三. 数据类型"></a>三. 数据类型</h3><h4 id="1-String（字符串）"><a href="#1-String（字符串）" class="headerlink" title="1. String（字符串）"></a>1. String（字符串）</h4><ul><li><p>string 是 redis 最基本的类型，你可以理解成与 Memcached 一模一样的类型，一个 key 对应一个 value。</p></li><li><p>string 类型是二进制安全的。意思是 redis 的 string 可以包含任何数据。比如jpg图片或者序列化的对象。</p></li><li><p>string 类型是 Redis 最基本的数据类型，string 类型的值最大能存储 512MB。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SET KEY_NAME VALUE		<span class="comment">#设置给定 key 的值，如果 key 已经存储其他值， SET 就覆写旧值，且无视类型</span></span><br><span class="line">GET KEY_NAME		<span class="comment">#获取指定 key 的值。如果 key 不存在，返回 nil ，如果key 储存的值不是字符串类型，返回一个错误</span></span><br><span class="line">GETRANGE KEY_NAME start end		<span class="comment">#获取存储在指定 key 中字符串的子字符串</span></span><br><span class="line">SETRANGE KEY_NAME OFFSET VALUE		<span class="comment">#用指定的字符串覆盖给定 key 所储存的字符串值，覆盖的位置从偏移量 offset 开始</span></span><br><span class="line">GETSET KEY_NAME VALUE		<span class="comment">#设置指定 key 的值，并返回 key 的旧值</span></span><br><span class="line">SETNX KEY_NAME VALUE		<span class="comment">#指定的 key 不存在时，为 key 设置指定的值</span></span><br><span class="line">SETEX KEY_NAME TIMEOUT VALUE		<span class="comment">#为指定的 key 设置值及其过期时间。如果 key 已经存在， SETEX 命令将会替换旧的值</span></span><br><span class="line">PSETEX key1 EXPIRY_IN_MILLISECONDS value1		<span class="comment">#以毫秒为单位设置 key 的生存时间</span></span><br><span class="line">STRLEN KEY_NAME			<span class="comment">#获取指定 key 所储存的字符串值的长度</span></span><br><span class="line">MSET key1 value1 key2 value2 .. keyN valueN		<span class="comment">#同时设置一个或多个 key-value 对</span></span><br><span class="line">MGET KEY1 KEY2 .. KEYN		<span class="comment">#返回所有(一个或多个)给定 key 的值</span></span><br><span class="line">MSETNX key1 value1 key2 value2 .. keyN valueN 		<span class="comment">#所有给定 key 都不存在时，同时设置一个或多个 key-value 对</span></span><br><span class="line">INCR KEY_NAME		<span class="comment">#将 key 中储存的数字值增一</span></span><br><span class="line">INCRBY KEY_NAME INCR_AMOUNT		<span class="comment">#将 key 中储存的数字加上指定的增量值</span></span><br><span class="line">INCRBYFLOAT KEY_NAME INCR_AMOUNT		<span class="comment">#为 key 中所储存的值加上指定的浮点数增量值</span></span><br><span class="line">DECR KEY_NAME 		<span class="comment">#将 key 中储存的数字值减一</span></span><br><span class="line">DECRBY KEY_NAME DECREMENT_AMOUNT		<span class="comment">#将 key 所储存的值减去指定的减量值</span></span><br><span class="line">APPEND KEY_NAME NEW_VALUE		<span class="comment">#用于为指定的 key 追加值，如果 key 已经存在并且是一个字符串， APPEND 命令将 value 追加到 key 原来的值的末尾。如果 key 不存在， APPEND 就简单地将给定 key 设为 value ，就像执行 SET key value 一样。</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="2-Hash（哈希）"><a href="#2-Hash（哈希）" class="headerlink" title="2. Hash（哈希）"></a>2. Hash（哈希）</h4><ul><li><p>键值对集合,即编程语言中的Map类型。</p></li><li><p>适合存储对象,并且可以像数据库中update一个属性一样只修改某一项属性值。</p></li><li><p>使用场景：存储、读取、修改用户属性。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">HSET KEY_NAME FIELD VALUE		<span class="comment">#为哈希表中的字段赋值</span></span><br><span class="line">HSETNX KEY_NAME FIELD VALUE		<span class="comment">#为哈希表中不存在的的字段赋值，如果字段已经存在于哈希表中，操作无效。</span></span><br><span class="line">HGET KEY_NAME FIELD_NAME 		<span class="comment">#返回哈希表中指定字段的值</span></span><br><span class="line">HGETALL KEY_NAME		<span class="comment">#返回哈希表中，所有的字段和值</span></span><br><span class="line">HEXISTS KEY_NAME FIELD_NAME		<span class="comment">#查看哈希表的指定字段是否存在</span></span><br><span class="line">HDEL KEY_NAME FIELD1.. FIELDN		<span class="comment">#用于删除哈希表 key 中的一个或多个指定字段，不存在的字段将被忽略</span></span><br><span class="line">HINCRBY KEY_NAME FIELD_NAME INCR_BY_NUMBER		<span class="comment">#为哈希表中的字段值加上指定增量值</span></span><br><span class="line">HINCRBYFLOAT key field increment		<span class="comment">#为哈希表中的字段值加上指定浮点数增量值，如果不存在，在执行命令前，字段的值被初始化为 0 </span></span><br><span class="line">HKEYS key		<span class="comment">#获取哈希表中的所有域（field）</span></span><br><span class="line">HVALS KEY_NAME FIELD VALUE		<span class="comment">#返回哈希表所有域(field)的值</span></span><br><span class="line">HLEN KEY_NAME 		<span class="comment">#获取哈希表中字段的数量</span></span><br><span class="line">HMGET KEY_NAME FIELD1...FIELDN		<span class="comment">#返回哈希表中，一个或多个给定字段的值</span></span><br><span class="line">HMSET KEY_NAME FIELD1 VALUE1 ...FIELDN VALUEN		<span class="comment">#用于同时将多个 field-value (字段-值)对设置到哈希表中,此命令会覆盖哈希表中已存在的字段。如果哈希表不存在，会创建一个空哈希表，并执行 HMSET 操作</span></span><br><span class="line">HSCAN key cursor [MATCH pattern] [COUNT count]		<span class="comment">#迭代哈希表中的键值对</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="3-List（列表）"><a href="#3-List（列表）" class="headerlink" title="3. List（列表）"></a>3. List（列表）</h4><ul><li><p>链表(双向链表)，增删快,提供了操作某一段元素的API。</p></li><li><p>使用场景：最新消息排行等功能(比如朋友圈的时间线) ；消息队列。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">LPUSH KEY_NAME VALUE1.. VALUEN		<span class="comment">#将一个或多个值插入到列表头部。 如果 key 不存在，一个空列表会被创建并执行</span></span><br><span class="line">LPUSHX KEY_NAME VALUE1.. VALUEN		<span class="comment">#将一个值插入到已存在的列表头部，列表不存在时操作无效</span></span><br><span class="line">Lpop KEY_NAME		<span class="comment">#移除并返回列表的第一个元素</span></span><br><span class="line">LRANGE KEY_NAME START END		<span class="comment">#返回列表中指定区间内的元素，区间以偏移量 START 和 END 指定，可以使用负数下标</span></span><br><span class="line">RPUSH KEY_NAME VALUE1..VALUEN		<span class="comment">#将一个或多个值插入到列表的尾部(最右边)</span></span><br><span class="line">RPUSHX KEY_NAME VALUE		<span class="comment">#将一个值插入到已存在的列表尾部(最右边)。如果列表不存在，操作无效</span></span><br><span class="line">RPOP KEY_NAME		<span class="comment">#用于移除列表的最后一个元素，返回值为移除的元素</span></span><br><span class="line">RPOPLPUSH SOURCE_KEY_NAME DESTINATION_KEY_NAME		<span class="comment">#用于移除列表的最后一个元素，并将该元素添加到另一个列表并返回</span></span><br><span class="line">BLPOP LIST1 ... TIMEOUT		<span class="comment">#移出并获取列表的第一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止</span></span><br><span class="line">BRPOP LIST1 LIST2 .. LISTN TIMEOUT		<span class="comment">#出并获取列表的最后一个元素,如果列表没有元素..</span></span><br><span class="line">BRPOPLPUSH LIST1 ANOTHER_LIST TIMEOUT		<span class="comment">#从列表中取出最后一个元素，并插入到另外一个列表的头部,如果列表没有元素..</span></span><br><span class="line">LLEN KEY_NAME		<span class="comment">#返回列表的长度。 如果列表 key 不存在，则 key 被解释为一个空列表，返回 0</span></span><br><span class="line">LINDEX KEY_NAME INDEX_POSITION		<span class="comment">#通过索引获取列表中的元素。以 -1 表示列表的最后一个元素，-2 表示列表的倒数第二个</span></span><br><span class="line">LINSERT key BEFORE|AFTER pivot value		<span class="comment">#在列表的元素前或者后插入元素</span></span><br><span class="line">LSET KEY_NAME INDEX VALUE		<span class="comment">#通过索引来设置元素的值</span></span><br><span class="line">LTRIM KEY_NAME START STOP		<span class="comment">#对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素</span></span><br><span class="line">LREM key count VALUE		<span class="comment">#根据参数 COUNT 的值，移除列表中与参数 VALUE 相等的元素</span></span><br><span class="line">							<span class="comment">#count &gt; 0 : 从表头开始向表尾搜索，移除与 VALUE 相等的元素，数量为 COUNT 。</span></span><br><span class="line">							<span class="comment">#count &lt; 0 : 从表尾开始向表头搜索，移除与 VALUE 相等的元素，数量为 COUNT 的绝对值。</span></span><br><span class="line">							<span class="comment">#count = 0 : 移除表中所有与 VALUE 相等的值。</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="4-Set（集合）"><a href="#4-Set（集合）" class="headerlink" title="4. Set（集合）"></a>4. Set（集合）</h4><ul><li><p>Redis 的 Set 是 string 类型的无序集合。</p></li><li><p>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)，为集合提供了求交集、并集、差集等操作。</p></li><li><p>使用场景：共同好友 ；利用唯一性,统计访问网站的所有独立ip ；好友推荐时,根据tag求交集,大于某个阈值就可以推荐。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SADD KEY_NAME VALUE1..VALUEN		<span class="comment">#将一个或多个成员元素加入到集合中，已经存在于集合的成员元素将被忽略</span></span><br><span class="line">SCARD KEY_NAME		<span class="comment">#返回集合中元素的数量</span></span><br><span class="line">SISMEMBER KEY VALUE		<span class="comment">#判断成员元素是否是集合的成员</span></span><br><span class="line">SMEMBERS key		<span class="comment">#返回集合中的所有的成员</span></span><br><span class="line">SMOVE SOURCE DESTINATION MEMBER		<span class="comment">#指定成员 member 元素从 source 集合移动到 destination集合,SMOVE是原子性操作</span></span><br><span class="line">SPOP key [count]		<span class="comment">#移除集合中的指定 key 的一个或多个随机元素，移除后会返回移除的元素</span></span><br><span class="line">SRANDMEMBER KEY [count]		<span class="comment">#用于返回集合中的一个随机元素</span></span><br><span class="line">SREM KEY MEMBER1..MEMBERN		<span class="comment">#移除集合中的一个或多个成员元素，不存在的成员元素会被忽略</span></span><br><span class="line">SDIFF FIRST_KEY OTHER_KEY1..OTHER_KEYN		<span class="comment">#返回第一个集合与其他集合之间的差异，也可以认为说第一个集合中独有的元素</span></span><br><span class="line">SINTER KEY KEY1..KEYN		<span class="comment">#返回给定所有给定集合的交集</span></span><br><span class="line">SUNION KEY KEY1..KEYN		<span class="comment">#返回给定集合的并集。不存在的集合 key 被视为空集</span></span><br><span class="line">SUNIONSTORE destination key [key ...]		<span class="comment">#将给定集合的并集存储在指定的集合 destination 中</span></span><br><span class="line">SSCAN key cursor [MATCH pattern] [COUNT count]		<span class="comment">#迭代集合中键的元素</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="5-ZSet（sorted-set：有序集合）"><a href="#5-ZSet（sorted-set：有序集合）" class="headerlink" title="5.ZSet（sorted set：有序集合）"></a>5.ZSet（sorted set：有序集合）</h4><ul><li><p>zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。不同的是每个元素都会关联一个double类型的权重参数score。redis正是通过score来为集合中的成员进行从小到大的排序。</p></li><li><p>数据插入集合时,已经进行天然排序，zset的成员是唯一的,但分数(score)却可以重复。</p></li><li><p>使用场景：排行榜 ；带权重的消息队列。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ZADD KEY_NAME SCORE1 VALUE1.. SCOREN VALUEN		<span class="comment">#向有序集合添加一个或多个成员，或者更新已存在成员的分数</span></span><br><span class="line">ZCARD KEY_NAME		<span class="comment">#计算集合中元素的数量</span></span><br><span class="line">ZCOUNT key min max		<span class="comment">#计算在有序集合中指定区间分数的成员数</span></span><br><span class="line">ZINCRBY key increment member		<span class="comment">#对有序集合中指定成员的分数加上增量 increment</span></span><br><span class="line">ZINTERSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]</span><br><span class="line"><span class="comment">#算给定的一个或多个有序集的交集，其中给定 key 的数量必须以 numkeys 参数指定，并将该交集(结果集)储存到 destination </span></span><br><span class="line">ZLEXCOUNT KEY MIN MAX		<span class="comment">#计算有序集合中指定字典区间内成员数量</span></span><br><span class="line">ZRANGE key start stop [WITHSCORES]		<span class="comment">#返回有序集中，指定区间内的成员</span></span><br><span class="line">ZRANGEBYLEX key min max [LIMIT offset count]		<span class="comment">#通过字典区间返回有序集合的成员</span></span><br><span class="line">ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]		<span class="comment">#返回有序集合中指定分数区间的成员列表</span></span><br><span class="line">ZRANK key member		<span class="comment">#返回有序集合中指定成员的索引</span></span><br><span class="line">ZREM key member [member ...]		<span class="comment">#移除有序集合中的一个或多个成员，不存在的成员将被忽略</span></span><br><span class="line">ZREMRANGEBYLEX key min max		<span class="comment">#移除有序集合中给定的字典区间的所有成员</span></span><br><span class="line">ZREMRANGEBYRANK key start stop		<span class="comment">#移除有序集中，指定排名(rank)区间内的所有成员</span></span><br><span class="line">ZREMRANGEBYSCORE key min max		<span class="comment">#移除有序集中，指定分数（score）区间内的所有成员</span></span><br><span class="line">ZREVRANGE key start stop [WITHSCORES]		<span class="comment">#返回有序集中，指定区间内的成员，按分数值递减(从大到小)来排列</span></span><br><span class="line">ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]		<span class="comment">#返回有序集中指定分数区间内的所有的成员</span></span><br><span class="line">ZREVRANK key member		<span class="comment">#返回有序集中成员的排名。其中有序集成员按分数值递减(从大到小)排序。</span></span><br><span class="line">ZSCORE key member		<span class="comment">#返回有序集中，成员的分数值。 如果成员元素不是有序集 key 的成员，或 key 不存在，返回 nil</span></span><br><span class="line">ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]</span><br><span class="line"><span class="comment">#计算给定的一个或多个有序集的并集，其中给定 key 的数量必须以 numkeys 参数指定，并将该并集(结果集)储存到 destination</span></span><br><span class="line">ZSCAN key cursor [MATCH pattern] [COUNT count]		<span class="comment">#迭代有序集合中的元素（包括元素成员和元素分值）</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="6-Geospatial"><a href="#6-Geospatial" class="headerlink" title="6. Geospatial"></a>6. Geospatial</h4><ul><li><p>Redis 的 GEO 特性在 Redis 3.2 版本中推出， 这个功能可以将用户给定的地理位置信息储存起来， 并对这些信息进行操作。</p></li><li><p>GEO 底层的实现原理其实就是 Zset！我们可以使用Zset命令来操作geo</p></li><li><p>有效的经度从-180度到180度。</p></li><li><p>有效的纬度从-85.05112878度到85.05112878度。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">geoadd key longitud(经度) latitude(纬度) member	[member..]	<span class="comment">#将一个/多个具体经纬度的坐标存入一个有序集合</span></span><br><span class="line">geopos key member [member..]		<span class="comment">#获取集合中的一个/多个成员坐标</span></span><br><span class="line">geodist key member1 member2 [unit]		<span class="comment">#返回两个给定位置之间的距离，unit：m、km、mi 英里、ft 英尺</span></span><br><span class="line">georadius key longitude latitude radius m|km|mi|ft [WITHCOORD][WITHDIST] [WITHHASH] [COUNT count]</span><br><span class="line"><span class="comment">#以给定的经纬度为中心， 返回集合包含的位置元素当中， 与中心的距离不超过给定最大距离的所有位置元素</span></span><br><span class="line"><span class="comment">#WITHDIST：在返回位置元素的同时， 将位置元素与中心之间的距离也一并返回</span></span><br><span class="line"><span class="comment">#WITHCOORD：将位置元素的经度和维度也一并返回</span></span><br><span class="line"><span class="comment">#WITHHASH：以 52 位有符号整数的形式， 返回位置元素经过原始 geohash 编码的有序集合分值。这个选项主要用于底层应用或者调试， 实际中的作用并不大。</span></span><br><span class="line">GEORADIUSBYMEMBER key member radius		<span class="comment">#功能与GEORADIUS相同，只是中心位置不是具体的经纬度，而是使用已有的成员</span></span><br><span class="line">geohash key member1 [member..]		<span class="comment">#返回一个或多个位置元素的Geohash表示，使用Geohash位置52点整数编码</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="7-Hyperloglog（基数统计）"><a href="#7-Hyperloglog（基数统计）" class="headerlink" title="7. Hyperloglog（基数统计）"></a>7. Hyperloglog（基数统计）</h4><ul><li><p>底层使用string数据类型。</p></li><li><p>占用的内存是固定，2^64 不同的元素的技术，只需要废 12KB内存。</p></li><li><p>如果允许容错，那么一定可以使用Hyperloglog ，如果不允许容错，就使用set或者自己的数据类型即可。</p></li><li><p>使用场景：网页的访问量。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PFADD key element1 [elememt2..]		<span class="comment">#添加指定元素到 HyperLogLog 中</span></span><br><span class="line">PFCOUNT key [key]		<span class="comment">#返回给定 HyperLogLog 的基数估算值</span></span><br><span class="line">PFMERGE destkey sourcekey [sourcekey..]		<span class="comment">#将多个 HyperLogLog 合并为一个 HyperLogLog</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-Bitmap（位图）"><a href="#8-Bitmap（位图）" class="headerlink" title="8. Bitmap（位图）"></a>8. Bitmap（位图）</h4><ul><li><p>使用位存储，信息状态只有 0 和 1。</p></li><li><p>Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)。</p></li><li><p>在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。</p></li><li><p>使用场景：签到统计、状态统计，两个状态的，都可以使用 Bitmaps。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setbit key offset value		<span class="comment">#为指定key的offset位设置值</span></span><br><span class="line">getbit key offset		<span class="comment">#获取offset位的值</span></span><br><span class="line">bitcount key [start end]		<span class="comment">#统计字符串被设置为1的bit数，也可以指定统计范围按字节</span></span><br><span class="line">bitop operration destkey key[key..]		<span class="comment">#对一个或多个保存二进制位的字符串 key 进行位元操作，并将结果保存到destkey上</span></span><br><span class="line">bitpos key bit [start] [end]		<span class="comment">#返回字符串里面第一个被设置为1或者0的bit位,start和end只能按字节,不能按位</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="四-事务"><a href="#四-事务" class="headerlink" title="四. 事务"></a>四. 事务</h3><h4 id="1-Redis-事务"><a href="#1-Redis-事务" class="headerlink" title="1. Redis 事务"></a>1. Redis 事务</h4><ul><li>Redis 事务可以一次执行多个命令， 并且带有以下三个重要的保证：<ul><li>批量操作在发送 EXEC 命令前被放入队列缓存。</li><li>收到 EXEC 命令后进入事务执行，事务中任意命令执行失败，其余的命令依然被执行。</li><li>在事务执行过程，其他客户端提交的命令请求不会插入到事务执行命令序列中。</li></ul></li><li>一个事务从开始到执行会经历以下三个阶段：<ul><li>开始事务（<strong>MULTI</strong> ）</li><li>命令入队</li><li>执行事务（<strong>EXEC</strong> ）</li></ul></li><li>单个 Redis 命令的执行是原子性的，但 Redis 没有在事务上增加任何维持原子性的机制，所以 Redis 事务的执行并不是原子性的。</li><li>编译型异常（代码有问题，命令有错），事务中所有的命令都不会被执行。</li><li>运行时异常（1 / 0），如果事务队列中存在语法性，那么执行命令的时候，其他命令是可以正常执行的，错误命令跑出异常。</li></ul><h4 id="2-事务命令"><a href="#2-事务命令" class="headerlink" title="2. 事务命令"></a>2. 事务命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MULTI		<span class="comment">#标记一个事务块的开始</span></span><br><span class="line">DISCARD		<span class="comment">#取消事务，放弃执行事务块内的所有命令</span></span><br><span class="line">EXEC		<span class="comment">#执行所有事务块内的命令</span></span><br><span class="line">WATCH key [key ...]		<span class="comment">#监视一个(或多个) key ，如果在事务执行之前这个(或这些) key 被其他命令所改动，那么事务将被打断，导致事务执行失败，如果发现事务执行失败，就先解锁，在进行监视</span></span><br><span class="line">UNWATCH		<span class="comment">#取消 WATCH 命令对所有 key 的监视</span></span><br></pre></td></tr></table></figure><h4 id="3-实例"><a href="#3-实例" class="headerlink" title="3. 实例"></a>3. 实例</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; MULTI</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; SET name <span class="string">&quot;hello redis&quot;</span></span><br><span class="line">QUEUED</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; GET name</span><br><span class="line">QUEUED</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; SADD tag <span class="string">&quot;hello&quot;</span> <span class="string">&quot;redis&quot;</span></span><br><span class="line">QUEUED</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; SMEMBERS tag</span><br><span class="line">QUEUED</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; EXEC</span><br><span class="line">1) OK</span><br><span class="line">2) <span class="string">&quot;hello redis&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 2</span><br><span class="line">4) 1) <span class="string">&quot;hello&quot;</span></span><br><span class="line">   2) <span class="string">&quot;redis&quot;</span></span><br></pre></td></tr></table></figure><h3 id="五-Jedis"><a href="#五-Jedis" class="headerlink" title="五. Jedis"></a>五. Jedis</h3><h4 id="1-Jedis-介绍"><a href="#1-Jedis-介绍" class="headerlink" title="1. Jedis 介绍"></a>1. Jedis 介绍</h4><ul><li><strong>Jedis</strong> 是 Redis 官方推荐的 java 连接开发工具，使用 java 操作 Redis 的中间件。</li></ul><h4 id="2-连接-redis-服务"><a href="#2-连接-redis-服务" class="headerlink" title="2. 连接 redis 服务"></a>2. 连接 redis 服务</h4><ul><li><p>导入依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>连接</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPing</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//连接本地的 Redis 服务</span></span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        <span class="comment">// 如果 Redis 服务设置了密码，需要下面这行，没有就不需要</span></span><br><span class="line">        <span class="comment">// jedis.auth(&quot;123456&quot;); </span></span><br><span class="line">        System.out.println(<span class="string">&quot;连接成功&quot;</span>);</span><br><span class="line">        <span class="comment">//查看服务是否运行</span></span><br><span class="line">        System.out.println(<span class="string">&quot;服务正在运行: &quot;</span>+jedis.ping());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="tag"><i class="fa fa-tag"></i> 数据类型</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" rel="tag"><i class="fa fa-tag"></i> 事务</a> <a href="/tags/jedis/" rel="tag"><i class="fa fa-tag"></i> jedis</a></div><div class="post-nav"><div class="post-nav-item"><a href="/post/518e617c/" rel="prev" title="git"><i class="fa fa-chevron-left"></i> git</a></div><div class="post-nav-item"><a href="/post/d1b72ac1/" rel="next" title="nosql认识">nosql认识 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">目录</li><li class="sidebar-nav-overview">WYP</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-redis%E4%BB%8B%E7%BB%8D"><span class="nav-text">一. redis介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-redis-%E5%91%BD%E4%BB%A4"><span class="nav-text">二. redis 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">三. 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-String%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="nav-text">1. String（字符串）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Hash%EF%BC%88%E5%93%88%E5%B8%8C%EF%BC%89"><span class="nav-text">2. Hash（哈希）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-List%EF%BC%88%E5%88%97%E8%A1%A8%EF%BC%89"><span class="nav-text">3. List（列表）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Set%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89"><span class="nav-text">4. Set（集合）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-ZSet%EF%BC%88sorted-set%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%89"><span class="nav-text">5.ZSet（sorted set：有序集合）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-Geospatial"><span class="nav-text">6. Geospatial</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-Hyperloglog%EF%BC%88%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1%EF%BC%89"><span class="nav-text">7. Hyperloglog（基数统计）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-Bitmap%EF%BC%88%E4%BD%8D%E5%9B%BE%EF%BC%89"><span class="nav-text">8. Bitmap（位图）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B-%E4%BA%8B%E5%8A%A1"><span class="nav-text">四. 事务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Redis-%E4%BA%8B%E5%8A%A1"><span class="nav-text">1. Redis 事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BA%8B%E5%8A%A1%E5%91%BD%E4%BB%A4"><span class="nav-text">2. 事务命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%AE%9E%E4%BE%8B"><span class="nav-text">3. 实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94-Jedis"><span class="nav-text">五. Jedis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Jedis-%E4%BB%8B%E7%BB%8D"><span class="nav-text">1. Jedis 介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%BF%9E%E6%8E%A5-redis-%E6%9C%8D%E5%8A%A1"><span class="nav-text">2. 连接 redis 服务</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="WYP's Blog" src="/images/author.png"><p class="site-author-name" itemprop="name">WYP's Blog</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">26</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div id="myCanvasContainer" class="widget tagcloud"><canvas width="200" height="200" id="resCanvas"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAP/" rel="tag">CAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dockerfile/" rel="tag">dockerfile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker%E7%BD%91%E7%BB%9C/" rel="tag">docker网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/item/" rel="tag">item</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jedis/" rel="tag">jedis</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql/" rel="tag">nosql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" rel="tag">主从复制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%86%E8%A7%A3/" rel="tag">了解</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8B%E5%8A%A1/" rel="tag">事务</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/" rel="tag">动静分离</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" rel="tag">反向代理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4/" rel="tag">命令</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F/" rel="tag">哨兵模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag">容器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%81%E4%B9%85%E5%8C%96-aof%E3%80%81rdb/" rel="tag">持久化(aof、rdb)</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="tag">数据类型</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E5%BD%95%E6%8C%82%E8%BD%BD/" rel="tag">目录挂载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%E7%AD%89/" rel="tag">缓存雪崩等</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="tag">负载均衡</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" rel="tag">配置文件</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%95%9C%E5%83%8F/" rel="tag">镜像</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="tag">高级用法</a><span class="tag-list-count">1</span></li></ul></canvas></div></div><div><canvas id="canvas" style="width:60%">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>!function(){var o,a,r,f,t,i=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],e=document.getElementById("canvas");function h(t,e){for(var n=[1,2,3],l=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],o=0;o<i[e].length;o++)for(var a,h=0;h<i[e][o].length;h++){1==i[e][o][h]&&(a={x:14*(f+2)*t+2*h*(f+1)+(f+1),y:2*o*(f+1)+(f+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:l[Math.floor(Math.random()*l.length)],disY:1},r.push(a))}}function n(){e.height=100;for(var t=0;t<a.length;t++)!function(t,e){for(var n=0;n<i[e].length;n++)for(var l=0;l<i[e][n].length;l++)1==i[e][n][l]&&(o.beginPath(),o.arc(14*(f+2)*t+2*l*(f+1)+(f+1),2*n*(f+1)+(f+1),f,0,2*Math.PI),o.closePath(),o.fill())}(t,a[t]);for(t=0;t<r.length;t++)o.beginPath(),o.arc(r[t].x,r[t].y,f,0,2*Math.PI),o.fillStyle=r[t].color,o.closePath(),o.fill()}e.getContext&&(o=e.getContext("2d"),e.height=100,e.width=700,o.fillStyle="#f00",o.fillRect(10,10,50,50),a=[],r=[],f=e.height/20-1,t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),a.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(void 0),setInterval(function(){!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),n=[];n.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var l=a.length-1;0<=l;l--)n[l]!==a[l]&&t.push(l+"_"+(Number(a[l])+1)%10);for(l=0;l<t.length;l++)h.apply(this,t[l].split("_"));a=n.concat()}(),function(){for(var t=0;t<r.length;t++)r[t].stepY+=r[t].disY,r[t].x+=r[t].stepX,r[t].y+=r[t].stepY,(r[t].x>700+f||r[t].y>100+f)&&(r.splice(t,1),t--)}(),n()},50))}()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">WYP's Blog</span></div><div class="run_time" style="text-align:center"><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("03/24/2021 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script defer src="/lib/three/three.min.js"></script><script defer src="/lib/three/three-waves.min.js"></script><script src="/js/local-search.js"></script><script src="/js/cursor/text.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"tagMode":false});</script></body></html>